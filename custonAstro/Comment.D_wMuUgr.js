import{j as h}from"./jsx-runtime.BIM8qNir.js";import{r as c}from"./index.C9PojNpy.js";const b="modulepreload",k=function(a){return"/"+a},f={},S=function(d,o,l){let s=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=e?.nonce||e?.getAttribute("nonce");s=Promise.all(o.map(t=>{if(t=k(t),t in f)return;f[t]=!0;const i=t.endsWith(".css"),m=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${m}`))return;const n=document.createElement("link");if(n.rel=i?"stylesheet":b,i||(n.as="script",n.crossOrigin=""),n.href=t,r&&n.setAttribute("nonce",r),document.head.appendChild(n),i)return new Promise((u,p)=>{n.addEventListener("load",u),n.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${t}`)))})}))}return s.then(()=>d()).catch(e=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e})};function _({id:a,host:d,repo:o,repoId:l,category:s,categoryId:e,mapping:r,term:t,strict:i,reactionsEnabled:m,emitMetadata:n,inputPosition:u,theme:p,lang:w,loading:y}){const[g,v]=c.useState(!1);return c.useEffect(()=>{g||(S(()=>import("./giscus-BNK3dBIH.BMMyl4fa.js"),[]),v(!0))},[]),g?h.jsx("giscus-widget",{id:a,host:d,repo:o,repoid:l,category:s,categoryid:e,mapping:r,term:t,strict:i,reactionsenabled:m,emitmetadata:n,inputposition:u,theme:p,lang:w,loading:y}):null}const E="inject-comments";function x(){return window.localStorage.getItem("theme")}const P=()=>{const[a,d]=c.useState(!1),[o,l]=c.useState("");return c.useEffect(()=>{const s=x();return l(s.includes("dark")?"dark":"light"),window.addEventListener("theme-change",e=>{l(e.detail?"dark":"light")}),()=>{window.removeEventListener("theme-change",e=>{})}},[]),c.useEffect(()=>{d(!0)},[]),h.jsx("div",{id:E,className:"w-full",children:a?h.jsx(_,{id:E,repo:"YTristen/TristenY",repoId:"R_kgDOMb4b1w",category:"Announcements",categoryId:"DIC_kwDOMb4b184ChOym",mapping:"title","rdata-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":"dark","data-lang":"zh-CN","data-loading":"lazy",theme:o}):null})};export{P as default};
